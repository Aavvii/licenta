<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>InverseProof</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library InverseProof</h1>

<div class="code">
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-notation-overridden,-parsing".<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Bool.Bool</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Init.Nat</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Arith.Arith</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Arith.EqNat</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Lia</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Lists.List</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Strings.String</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ZArith.Znat</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ZArith.BinInt</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">ZArith.Zbool</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Reals.RIneq</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Classes.RelationClasses</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Program.Wf</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">N2Z</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Zabs2N</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">LF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Maps</span> <span class="id" title="var">Wasm</span> <span class="id" title="var">Proprieties</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">com_scope</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Init.Decimal</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Datatypes</span> <span class="id" title="var">Specif</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
Definirea inversului unui numar 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invers''</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Decimal.uint</span>) :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;| <span class="id" title="var">D0</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D0</span> <br/>
&nbsp;| <span class="id" title="var">D1</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D1</span><br/>
&nbsp;| <span class="id" title="var">D2</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D2</span><br/>
&nbsp;| <span class="id" title="var">D3</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D3</span><br/>
&nbsp;| <span class="id" title="var">D4</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D4</span><br/>
&nbsp;| <span class="id" title="var">D5</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D5</span><br/>
&nbsp;| <span class="id" title="var">D6</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D6</span><br/>
&nbsp;| <span class="id" title="var">D7</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D7</span><br/>
&nbsp;| <span class="id" title="var">D8</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D8</span><br/>
&nbsp;| <span class="id" title="var">D9</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">D9</span><br/>
&nbsp;| <span class="id" title="var">Nil</span> =&gt; <span class="id" title="var">D0</span><br/>
<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">invers'</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Decimal.uint</span>) (<span class="id" title="var">inv</span> : <span class="id" title="var">Decimal.uint</span>):=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">Nil</span> =&gt; <span class="id" title="var">inv</span><br/>
| <span class="id" title="var">D0</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D0</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D1</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D1</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D2</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D2</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D3</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D3</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D4</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D4</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D5</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D5</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D6</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D6</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D7</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D7</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D8</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D8</span> <span class="id" title="var">inv</span>)<br/>
| <span class="id" title="var">D9</span> (<span class="id" title="var">n'</span>) =&gt; <span class="id" title="var">invers'</span> <span class="id" title="var">n'</span> (<span class="id" title="var">D9</span> <span class="id" title="var">inv</span>)<br/>
<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invers</span> (<span class="id" title="var">n</span> : <span class="id" title="var">Z</span>) :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
| 0 =&gt; 0<br/>
| <span class="id" title="var">Z.pos</span> <span class="id" title="var">n'</span> =&gt; <span class="id" title="var">Z.of_uint</span> (<span class="id" title="var">invers'</span> (<span class="id" title="var">N.to_uint</span> (<span class="id" title="var">ZtoN</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">n'</span>))) (<span class="id" title="var">Nil</span>))<br/>
| <span class="id" title="var">Z.neg</span> <span class="id" title="var">_</span> =&gt; 0<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">invers</span> 0.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">invers</span> 123.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">invers</span> 8.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">invers</span> 86.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">invers</span> (-3).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Z.modulo</span> (-3) 10.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">inv</span> : <span class="id" title="var">string</span> := "inv".<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">temp</span> : <span class="id" title="var">string</span> := "temp".<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">IN</span> : <span class="id" title="var">string</span> := "IN".<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">label1</span> : <span class="id" title="var">string</span> := "label1".<br/>

<br/>
</div>

<div class="doc">
Demonstratia invariantului
<ul class="doclist">
<li> Cazul in care avem un numar mai mare sau egal cu 10 
</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">loop_invariant_ge_10</span> :<br/>
<span class="id" title="keyword">forall</span> (<span class="id" title="var">n</span> <span class="id" title="var">m_inv</span> <span class="id" title="var">m_init</span> : <span class="id" title="var">Z</span>) <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> (<span class="id" title="var">label</span>:<span class="id" title="var">string</span>) <span class="id" title="var">mem</span>, <span class="id" title="var">m_init</span> &gt;= 10 -&gt;<br/>
([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) =[<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10 ;<br/>
&nbsp;<span class="id" title="var">Ci32_mul</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span>;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10 ;<br/>
&nbsp;<span class="id" title="var">Ci32_rem_s</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_add</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10 ;<br/>
&nbsp;<span class="id" title="var">Ci32_div_s</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 1 ;<br/>
&nbsp;<span class="id" title="var">Ci32_ge_s</span> ;<br/>
&nbsp;<span class="id" title="var">CBr_If</span> <span class="id" title="var">label</span><br/>
]=&gt; ([] , [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296 )+(<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_init</span>) 10)) 4294967296) ); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span> / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) / <span class="id" title="var">SBr</span> <span class="id" title="var">label</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m_inv</span> <span class="id" title="var">m_init</span> <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> <span class="id" title="var">label</span> <span class="id" title="var">mem</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">m_init</span>.<br/>
- <span class="id" title="tactic">unfold</span> "&gt;=". <span class="id" title="tactic">simpl</span>. <span class="id" title="var">contradiction</span>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">p_pos</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 10; <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
--- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
--- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
---- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_mul</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
---- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>); <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
----- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
----- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 10; <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>); <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10); <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
--------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_rem_s</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
--------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
---------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_add</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
---------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
----------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_set</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
----------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
------------ <span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
------------ <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 10; <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> ((<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) / 10)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
-------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_div_s</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
-------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span>  ([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> ((<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
--------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_set</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
--------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> ((<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) / 10)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> ((<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
---------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
---------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 1; <span class="id" title="var">i32</span> ((<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) / 10)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> ((<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
----------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
----------------- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 1], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) 10) ) 4294967296)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> ((<span class="id" title="var">Zpos</span> <span class="id" title="var">p</span>) / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
------------------ <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_ge_s</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">eval_i32_ge_s_true</span>.<br/>
<span class="id" title="keyword">Search</span> (<span class="id" title="var">_</span> &gt;=? <span class="id" title="var">_</span> = <span class="id" title="var">true</span>).<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.geb_le</span>.<br/>
<span class="id" title="keyword">Search</span> (<span class="id" title="var">_</span> &lt;=  <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Z.ge_le_iff</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ge_le_iff</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">ge_le_iff</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span> / 10) 1.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
* <span class="id" title="tactic">reflexivity</span>.<br/>
*<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">positive_ge_10_implies_p_div_10_ge_1</span>. <span class="id" title="tactic">assumption</span>.<br/>
------------------ <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Br_IfTrue</span>.<br/>
------------------- <span class="id" title="tactic">reflexivity</span>.<br/>
------------------- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Cazul in care avem un numar mai mic decat 10 
</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">loop_invariant_lt_10</span> :<br/>
<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">m_inv</span> <span class="id" title="var">m_init</span> <span class="id" title="var">m_step</span> <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> (<span class="id" title="var">label</span>:<span class="id" title="var">string</span>) <span class="id" title="var">mem</span>,<br/>
<span class="id" title="var">m_step</span> = (<span class="id" title="var">Z.modulo</span> ( (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296 ) + (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_init</span>) 10)) 4294967296) -&gt;<br/>
<br/>
<span class="id" title="var">m_init</span> &lt; 10 -&gt;<br/>
([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) =[<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10 ;<br/>
&nbsp;<span class="id" title="var">Ci32_mul</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span>;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10 ;<br/>
&nbsp;<span class="id" title="var">Ci32_rem_s</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_add</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10 ;<br/>
&nbsp;<span class="id" title="var">Ci32_div_s</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 1 ;<br/>
&nbsp;<span class="id" title="var">Ci32_ge_s</span> ;<br/>
&nbsp;<span class="id" title="var">CBr_If</span> <span class="id" title="var">label</span><br/>
]=&gt; ([] , [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_step</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span> / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) / <span class="id" title="var">SContinue</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m_inv</span> <span class="id" title="var">m_init</span> <span class="id" title="var">m_step</span> <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> <span class="id" title="var">label</span> <span class="id" title="var">mem</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 10; <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_mul</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>; <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 10; <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>; <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10); <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_rem_s</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_inv</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_add</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_set</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 10; <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span>/10)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">m_init</span>)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_div_s</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span>/10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_set</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span>/10)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span>/10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 1; <span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span>/10)], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> <span class="id" title="var">m_init</span> 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">m_init</span>/10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">m_init</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 0], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> 0 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (0))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
-- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_ge_s</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Br_IfFalse</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Zdiv.Zmod_0_l</span>. <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 0], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>); (<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span>) 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span> / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_ge_s</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">eval_i32_ge_s_false</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">positive_lt_than_10_implies_p_div_10_lt_1</span>. <span class="id" title="tactic">assumption</span>.<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Br_IfFalse</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Zdiv.Zdiv_small</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Pos2Z.is_nonneg</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 0], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>); (<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">m_inv</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Z.neg</span> <span class="id" title="var">p</span>) 10)) 4294967296 )); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.neg</span> <span class="id" title="var">p</span> / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_ge_s</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">eval_i32_ge_s_false</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Z.neg</span> <span class="id" title="var">p</span> / 10 &lt;= 0). <span class="id" title="tactic">apply</span> <span class="id" title="var">negative_lt_than_10_implies_n_div_10_is_0</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">lt1_equiv_le0</span>. <span class="id" title="tactic">assumption</span>.<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Br_IfFalse</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">positive_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Cazul general 
</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">loop_invariant</span> :<br/>
<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">temp_init</span> <span class="id" title="var">inv_init</span> <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> <span class="id" title="var">label</span> <span class="id" title="var">mem</span>,<br/>
([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> <span class="id" title="var">inv_init</span>); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">temp_init</span>)],<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) =[<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_mul</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span>;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_rem_s</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_add</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_div_s</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 1%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_ge_s</span> ;<br/>
&nbsp;<span class="id" title="var">CBr_If</span> <span class="id" title="var">label</span><br/>
]=&gt; ([] , [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> ((<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">inv_init</span> * 10) 4294967296)+(<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">temp_init</span>) 10) ) 4294967296 ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">temp_init</span> / 10))], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) /<br/>
<span class="id" title="keyword">if</span> (<span class="id" title="var">temp_init</span>) &gt;=? 10 <span class="id" title="keyword">then</span> <span class="id" title="var">SBr</span> <span class="id" title="var">label</span> <span class="id" title="keyword">else</span> <span class="id" title="var">SContinue</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">temp_init</span> <span class="id" title="var">inv_init</span> <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> <span class="id" title="var">label</span> <span class="id" title="var">mem</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">temp_init</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">loop_invariant_lt_10</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="var">case_eq</span>(<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span> &gt;=? 10).<br/>
-- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">loop_invariant_ge_10</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Z.ge</span>.<br/>
<span class="id" title="var">case_eq</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span> ?= 10)%<span class="id" title="var">Z</span>.<br/>
+ <span class="id" title="tactic">discriminate</span>.<br/>
+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Z.geb</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
+ <span class="id" title="tactic">discriminate</span>.<br/>
-- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">loop_invariant_lt_10</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Z.lt</span>.<br/>
<span class="id" title="var">case_eq</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span> ?= 10)%<span class="id" title="var">Z</span>.<br/>
+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Z.geb</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Z.geb</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">loop_invariant_lt_10</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Zlt_neg_0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">bintest</span> : <span class="id" title="var">positive</span> := 1~0~0.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">bintest</span>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">Z.pos</span>).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">bintest</span>~0.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">bintest</span>~1.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">invers_for_0_10</span> :<br/>
<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>,<br/>
(<span class="id" title="var">n</span> &lt; 10)%<span class="id" title="var">Z</span> -&gt;<br/>
(<span class="id" title="var">n</span> &gt;= 0)%<span class="id" title="var">Z</span>  -&gt;<br/>
<span class="id" title="var">invers</span> (<span class="id" title="var">n</span>) = <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 0)%<span class="id" title="var">Z</span>.<br/>
- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 1)%<span class="id" title="var">Z</span>.<br/>
-- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
-- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 2)%<span class="id" title="var">Z</span>.<br/>
--- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
--- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 3)%<span class="id" title="var">Z</span>.<br/>
---- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
---- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 4)%<span class="id" title="var">Z</span>.<br/>
----- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
----- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 5)%<span class="id" title="var">Z</span>.<br/>
------ <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
------ <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 6)%<span class="id" title="var">Z</span>.<br/>
------- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
------- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 7)%<span class="id" title="var">Z</span>.<br/>
-------- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
-------- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 8)%<span class="id" title="var">Z</span>.<br/>
--------- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
--------- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> =? 9)%<span class="id" title="var">Z</span>.<br/>
---------- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Z.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
---------- <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">inv_loop_content</span> :=<br/>
&lt;{<span class="id" title="var">Clocal_get</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_mul</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span>;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_rem_s</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_add</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">inv</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 10%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_div_s</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_set</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Clocal_get</span> <span class="id" title="var">temp</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_const</span> 1%<span class="id" title="var">Z</span> ;<br/>
&nbsp;<span class="id" title="var">Ci32_ge_s</span> ;<br/>
&nbsp;<span class="id" title="var">CBr_If</span> <span class="id" title="var">label1</span>}&gt;.<br/>

<br/>
</div>

<div class="doc">
Demonstratia (incompleta) pentru functionarea generala a calcularii inversului unui numar 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">example_calculeaza_invers_general</span>:<br/>
<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> <span class="id" title="var">mem</span>,<br/>
([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> 0); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> 0)],<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) =[<br/>
<span class="id" title="var">i32.const</span> (0%<span class="id" title="var">Z</span>) ;<br/>
(<span class="id" title="var">local.set</span> <span class="id" title="var">inv</span>) ;<br/>
(<span class="id" title="var">local.get</span> <span class="id" title="var">IN</span>) ;<br/>
(<span class="id" title="var">local.set</span> <span class="id" title="var">temp</span>) ;<br/>
<span class="id" title="var">loop</span> (<span class="id" title="var">label1</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">local.get</span> <span class="id" title="var">inv</span>) ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.const</span> 10 ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.mul</span> ;<br/>
&nbsp;&nbsp;(<span class="id" title="var">local.get</span> <span class="id" title="var">temp</span>) ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.const</span> 10 ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.rem_s</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.add</span> ;<br/>
&nbsp;&nbsp;(<span class="id" title="var">local.set</span> <span class="id" title="var">inv</span>) ;<br/>
&nbsp;&nbsp;(<span class="id" title="var">local.get</span> <span class="id" title="var">temp</span>) ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.const</span> 10 ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.div_s</span> ;<br/>
&nbsp;&nbsp;(<span class="id" title="var">local.set</span> <span class="id" title="var">temp</span>) ;<br/>
&nbsp;&nbsp;(<span class="id" title="var">local.get</span> <span class="id" title="var">temp</span>) ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.const</span> 1 ;<br/>
&nbsp;&nbsp;<span class="id" title="var">i32.ge_s</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="var">br_if</span> (<span class="id" title="var">label1</span>)<br/>
&nbsp;<span class="id" title="keyword">end</span>;<br/>
(<span class="id" title="var">local.get</span> <span class="id" title="var">inv</span>)<br/>
]=&gt; ([<span class="id" title="var">i32</span> (<span class="id" title="var">invers</span> <span class="id" title="var">n</span>)] , [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">invers</span> <span class="id" title="var">n</span>)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> 0)],<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) / <span class="id" title="var">SContinue</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">glob_st</span> <span class="id" title="var">fun_st</span> <span class="id" title="var">mem</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> 0], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> 0); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> 0)] ,<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_i32_const</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> 0); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> 0)],<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_set</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([<span class="id" title="var">i32</span> <span class="id" title="var">n</span>], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> 0); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> 0)],<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([], [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> 0); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> <span class="id" title="var">n</span>)],<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_set</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([] , [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> 0) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">invers</span> 0)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> 0)], <span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_LoopOnce</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">loop_invariant</span>.<br/>
-- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_local_get</span>. <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">E_Seq</span> <span class="id" title="keyword">with</span> ([] , [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span>)) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">invers</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span>))); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> 0)],<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>).<br/>
<span class="id" title="var">case_eq</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span> &gt;=? 10).<br/>
+ <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">E_Loop</span> <span class="id" title="keyword">with</span> ([] , [(<span class="id" title="var">IN</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span>)) ;(<span class="id" title="var">inv</span>, <span class="id" title="var">i32</span> ((<span class="id" title="var">invers</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span>)) / 10)); (<span class="id" title="var">temp</span>, <span class="id" title="var">i32</span> (<span class="id" title="var">Z.modulo</span> (<span class="id" title="var">Z.pos</span> <span class="id" title="var">p</span>) 10) )],<span class="id" title="var">glob_st</span>, <span class="id" title="var">fun_st</span>, <span class="id" title="var">mem</span>) <span class="id" title="var">label1</span>.<br/>
++ <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Search</span> (<span class="id" title="var">Z</span> -&gt; <span class="id" title="var">uint</span>).<br/>
+++ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Pos2Z.pos_xI</span>.<br/>

<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z</span>.<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>